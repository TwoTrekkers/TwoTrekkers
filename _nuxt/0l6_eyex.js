import{u as F,b as H,a as $,c as j,_ as D}from"./Bi3Kd3fV.js";import{z as P,a2 as E,b as _,A as K,C as u,L as n,N as s,P as i,D as r,F as v,Q as x,a3 as G,a7 as J,a8 as O,d as Q,M as l,U as X,G as W,V as Y,X as Z}from"./Dgn1c7DG.js";import{M as ee}from"./BMSQkwth.js";import{u as te}from"./Bk_n4hmJ.js";const se={class:"container-wide section max-w-[1200px]"},oe={class:"mb-6"},ae={class:"text-medium"},re={class:"flex flex-wrap gap-3 mb-6"},ne=["onClick"],le={class:"flex flex-col gap-4 mb-8"},ie=["placeholder"],ce={class:"flex justify-end"},me={class:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},de={class:"w-full bg-background-dark"},ue=["src","alt"],ge={class:"p-5 flex-1 flex flex-col"},pe={class:"flex flex-wrap gap-2 mb-3"},he={class:"text-[22px] leading-7 font-semibold line-clamp-2"},fe=["innerHTML"],_e={class:"mt-auto pt-4"},Le=P({__name:"index",async setup(ve){let g,w;const{t:a,locale:y}=F(),L=H();$(()=>({title:a("page.titles.memoirs"),meta:[{name:"description",content:a("memoirs.description")},{name:"keywords",content:"travel memoirs, travel stories, travel experiences, travel blog, adventure stories, travel tips, travel community, real travel stories, travel inspiration"},{property:"og:type",content:"website"},{property:"og:title",content:a("page.titles.memoirs")},{property:"og:description",content:a("memoirs.description")},{property:"og:image",content:"https://twotrekkers.nyc3.cdn.digitaloceanspaces.com/media/app-images/TwoTrekkersLogo.svg"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:a("page.titles.memoirs")},{name:"twitter:description",content:a("memoirs.description")},{name:"twitter:image",content:"https://twotrekkers.nyc3.cdn.digitaloceanspaces.com/media/app-images/TwoTrekkersLogo.svg"}],link:[{rel:"canonical",href:"https://twotrekkers.travel/memoirs"}]}));const T=`${j().origin}/data/memoirs.json`,{data:C}=([g,w]=E(()=>te(T,{key:"memoirs-all"},"$RzySEf6V1l")),g=await g,w(),g),k=_(!1);K(()=>{k.value=!0});const M=e=>k.value?e.images&&e.images.length>0&&e.images[Math.floor(Math.random()*e.images.length)]?.imageUrl||"/images/Icon-camera-retro.svg":e.images&&e.images.length>0&&e.images[Math.floor((e.id?.charCodeAt(0)||0)%e.images.length)]?.imageUrl||"/images/Icon-camera-retro.svg",h=u(()=>C.value||[]),U=e=>{const t=e?.i18n?.title;return t?.[y.value]||t?.en||e.metadata?.title||""},I=e=>{const t=e?.i18n?.summary;return t?.[y.value]||t?.en||e.summary||""},p=_(""),c=_([]),R=u(()=>{const e=new Set;for(const t of h.value)for(const m of t.metadata?.tags||[])e.add(m);return Array.from(e)}),f=e=>e.trim().toLowerCase(),S=u(()=>p.value.split(/[\s,]+/).map(f).filter(Boolean)),V=u(()=>{const e=[];for(const t of c.value)e.push(f(t));for(const t of S.value)e.push(t);return Array.from(new Set(e))}),q=u(()=>{const e=V.value;return e.length===0?h.value:h.value.filter(t=>{const m=(t.metadata?.tags||[]).map(f);return e.some(o=>m.some(d=>d.includes(o)))})});function z(e){const t=c.value.indexOf(e);t===-1?c.value.push(e):c.value.splice(t,1)}const A=e=>c.value.includes(e),b=()=>{},B=new ee({html:!1,linkify:!0,breaks:!0}),N=e=>B.render(e||"");return(e,t)=>{const m=D;return l(),n("section",se,[s("header",oe,[s("h2",ae,i(r(a)("memoirs.categories")),1)]),s("div",re,[(l(!0),n(v,null,x(r(R),o=>(l(),n("button",{key:o,onClick:d=>z(o),class:X(["category-tag transition-opacity",{"opacity-60 ring-2 ring-primary":A(o)}])},i(o),11,ne))),128))]),s("div",le,[G(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>Q(p)?p.value=o:null),placeholder:r(a)("memoirs.search.placeholder"),class:"w-full h-12 rounded-full bg-background text-white placeholder:text-text-muted border border-border-light px-5 focus:outline-none focus:ring-2 focus:ring-primary",onKeyup:O(b,["enter"])},null,40,ie),[[J,r(p)]]),s("div",ce,[s("button",{class:"w-full md:w-64 h-12 rounded-full trekker-btn",onClick:b},i(r(a)("memoirs.search.button")),1)])]),s("div",me,[(l(!0),n(v,null,x(r(q),o=>(l(),n("article",{key:o.id,class:"card card-hover overflow-hidden flex flex-col min-h-[400px] md:min-h-[480px]"},[s("div",de,[s("img",{src:M(o),alt:r(a)("alt.twotrekkers_logo"),class:"w-full h-56 object-cover rounded-t-2xl"},null,8,ue)]),s("div",ge,[s("div",pe,[(l(!0),n(v,null,x(o.metadata?.tags||[],d=>(l(),n("span",{key:d,class:"category-tag"},i(d),1))),128))]),s("h3",he,i(U(o)),1),s("div",{class:"mt-2 text-sm text-white/70 leading-tight line-clamp-3 [&_p]:text-sm [&_p]:text-white/70 [&_p]:leading-tight [&_*]:text-sm [&_*]:text-white/70 [&_*]:leading-tight",innerHTML:N(I(o)||"")},null,8,fe),s("div",_e,[W(m,{to:r(L)(`/memoirs/${o.id}`),class:"read-more text-secondary"},{default:Y(()=>[Z(i(r(a)("memoirs.read.more"))+" ",1),t[1]||(t[1]=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-4 h-4"},[s("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l5 5a1 1 0 010 1.414l-5 5a1 1 0 11-1.414-1.414L13.586 11H4a1 1 0 110-2h9.586l-3.293-3.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))]),_:2},1032,["to"])])])]))),128))])])}}});export{Le as default};
